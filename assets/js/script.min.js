function toggleMenu(){const e=document.getElementById("mobile-menu"),t=document.getElementById("menu-button").querySelector("i"),n="block"===e.style.display;e.style.display=n?"none":"block",n?(t.classList.remove("fa-times"),t.classList.add("fa-bars")):(t.classList.remove("fa-bars"),t.classList.add("fa-times"))}if("loading"===document.readyState)document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("menu-button");e&&e.addEventListener("click",toggleMenu)});else{const e=document.getElementById("menu-button");e&&e.addEventListener("click",toggleMenu)}const canvas=document.getElementById("nodeCanvas");if(canvas){const t=canvas.getContext("2d",{alpha:!0,desynchronized:!0});let n,a,s=[];const i=80,o=150;let r,d;function resizeCanvas(){n=canvas.width=canvas.offsetWidth,a=canvas.height=canvas.offsetHeight}class l{constructor(){this.x=Math.random()*n,this.y=Math.random()*a,this.radius=1.5*Math.random()+.5,this.vx=.5*Math.random()-.25,this.vy=.5*Math.random()-.25}draw(){t.fillStyle="rgba(59, 154, 235, 0.8)",t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI),t.fill()}update(){this.x+=this.vx,this.y+=this.vy,(this.x<0||this.x>n)&&(this.vx*=-1),(this.y<0||this.y>a)&&(this.vy*=-1)}}function init(){resizeCanvas(),s=[];for(let e=0;e<i;e++)s.push(new l)}function connectParticles(){for(let e=0;e<i;e++)for(let n=e+1;n<i;n++){const a=s[e],i=s[n],r=a.x-i.x,d=a.y-i.y,l=Math.sqrt(r*r+d*d);if(l<o){const e=1-l/o;t.strokeStyle=`rgba(59, 154, 235, ${.4*e})`,t.lineWidth=.5,t.beginPath(),t.moveTo(a.x,a.y),t.lineTo(i.x,i.y),t.stroke()}}}function animate(){t.clearRect(0,0,n,a),connectParticles(),s.forEach(e=>{e.update(),e.draw()}),r=requestAnimationFrame(animate)}function handleResize(){clearTimeout(d),d=setTimeout(()=>{resizeCanvas()},150)}window.addEventListener("resize",handleResize,{passive:!0}),"requestIdleCallback"in window?requestIdleCallback(()=>{init(),animate()}):setTimeout(()=>{init(),animate()},1),document.addEventListener("visibilitychange",()=>{document.hidden?r&&cancelAnimationFrame(r):animate()})}document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("contact-form");e&&e.addEventListener("submit",async function(t){t.preventDefault();const n=new FormData(e),a=document.getElementById("form-status"),s=document.getElementById("submit-btn"),i=e.querySelector('input[name="email"]').value;if(!i||!i.includes("@"))return a.innerHTML='<div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative" role="alert"><strong class="font-bold">Error!</strong> <span class="block sm:inline">Por favor ingresa un correo electrónico válido.</span></div>',void a.classList.remove("hidden");s.disabled=!0,s.innerHTML='<i class="fas fa-spinner fa-spin mr-2"></i> Enviando...';try{const t=await fetch(e.action,{method:e.method,body:n,headers:{Accept:"application/json"}});if(t.ok)a.innerHTML='<div class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative" role="alert"><strong class="font-bold">¡Éxito!</strong> <span class="block sm:inline">Tu mensaje ha sido enviado correctamente. Te contactaremos pronto.</span></div>',a.classList.remove("hidden"),e.reset();else{const e=await t.json();e.errors?a.innerHTML=e.errors.map(e=>e.message).join(", "):a.innerHTML='<div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative" role="alert"><strong class="font-bold">Error!</strong> <span class="block sm:inline">Hubo un problema al enviar el formulario. Por favor intenta de nuevo.</span></div>',a.classList.remove("hidden")}}catch(e){a.innerHTML='<div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative" role="alert"><strong class="font-bold">Error!</strong> <span class="block sm:inline">Hubo un problema al enviar el formulario. Por favor intenta de nuevo.</span></div>',a.classList.remove("hidden")}finally{s.disabled=!1,s.innerHTML='<i class="fas fa-paper-plane mr-2"></i> Enviar Solicitud'}})});