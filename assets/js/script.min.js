function toggleMenu(){const e=document.getElementById("mobile-menu"),t=document.getElementById("menu-button").querySelector("i"),n="block"===e.style.display;e.style.display=n?"none":"block",n?(t.classList.remove("fa-times"),t.classList.add("fa-bars")):(t.classList.remove("fa-bars"),t.classList.add("fa-times"))}if("loading"===document.readyState)document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("menu-button");e&&e.addEventListener("click",toggleMenu)});else{const e=document.getElementById("menu-button");e&&e.addEventListener("click",toggleMenu)}const canvas=document.getElementById("nodeCanvas");if(canvas){const t=canvas.getContext("2d",{alpha:!0,desynchronized:!0});let n,a,i=[];const s=80,o=150;let r,c;function resizeCanvas(){n=canvas.width=canvas.offsetWidth,a=canvas.height=canvas.offsetHeight}class d{constructor(){this.x=Math.random()*n,this.y=Math.random()*a,this.radius=1.5*Math.random()+.5,this.vx=.5*Math.random()-.25,this.vy=.5*Math.random()-.25}draw(){t.fillStyle="rgba(59, 154, 235, 0.8)",t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI),t.fill()}update(){this.x+=this.vx,this.y+=this.vy,(this.x<0||this.x>n)&&(this.vx*=-1),(this.y<0||this.y>a)&&(this.vy*=-1)}}function init(){resizeCanvas(),i=[];for(let e=0;e<s;e++)i.push(new d)}function connectParticles(){for(let e=0;e<s;e++)for(let n=e+1;n<s;n++){const a=i[e],s=i[n],r=a.x-s.x,c=a.y-s.y,d=Math.sqrt(r*r+c*c);if(d<o){const e=1-d/o;t.strokeStyle=`rgba(59, 154, 235, ${.4*e})`,t.lineWidth=.5,t.beginPath(),t.moveTo(a.x,a.y),t.lineTo(s.x,s.y),t.stroke()}}}function animate(){t.clearRect(0,0,n,a),connectParticles(),i.forEach(e=>{e.update(),e.draw()}),r=requestAnimationFrame(animate)}function handleResize(){clearTimeout(c),c=setTimeout(()=>{resizeCanvas()},150)}window.addEventListener("resize",handleResize,{passive:!0}),"requestIdleCallback"in window?requestIdleCallback(()=>{init(),animate()}):setTimeout(()=>{init(),animate()},1),document.addEventListener("visibilitychange",()=>{document.hidden?r&&cancelAnimationFrame(r):animate()})}document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("contact-form"),t=document.getElementById("form-status"),n=document.getElementById("submit-btn");e&&e.addEventListener("submit",async function(a){a.preventDefault(),n.disabled=!0,n.innerHTML='<i class="fas fa-spinner fa-spin mr-2"></i> Enviando...';const i=new FormData(e);try{if(!(await fetch(e.action,{method:"POST",body:i,headers:{Accept:"application/json"}})).ok)throw new Error("Error en el servidor");t.className="mb-4 p-3 rounded-lg bg-green-100 border border-green-400 text-green-700",t.innerHTML='<i class="fas fa-check-circle mr-2"></i> ¡Gracias! Tu solicitud ha sido enviada correctamente. Te contactaremos pronto.',t.classList.remove("hidden"),e.reset()}catch(e){t.className="mb-4 p-3 rounded-lg bg-red-100 border border-red-400 text-red-700",t.innerHTML='<i class="fas fa-exclamation-triangle mr-2"></i> Hubo un problema al enviar tu solicitud. Por favor, intenta de nuevo o contáctanos por WhatsApp.',t.classList.remove("hidden")}finally{n.disabled=!1,n.innerHTML='<i class="fas fa-paper-plane mr-2"></i> Enviar Solicitud'}})});